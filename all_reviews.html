<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>All Reviews - Gym10</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-50 min-h-screen">
    <!-- Navbar -->
    <nav class="bg-black">
      <div
        class="container mx-auto flex items-center justify-between py-4 px-6"
      >
        <div class="flex items-center gap-3">
          <img
            src="img/logo.jpg"
            alt="Gym10 Logo"
            class="h-10 w-10 rounded-full"
          />
          <span class="text-xl font-bold text-green-400">Gym10</span>
        </div>
        <ul class="flex gap-6">
          <li>
            <a
              href="client_dashboard.html"
              class="text-white hover:text-green-400 transition"
              >Dashboard</a
            >
          </li>
          <li>
            <a
              href="logout.php"
              class="ml-4 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition"
              >Logout</a
            >
          </li>
        </ul>
      </div>
    </nav>

    <main class="container mx-auto py-10">
      <h1 class="text-3xl font-bold mb-8 text-center text-green-600">
        All Reviews
      </h1>
      <div id="reviews-list" class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <p class="col-span-3 text-center">Loading reviews...</p>
      </div>
    </main>

    <footer class="bg-black text-white py-6 mt-10">
      <div class="container mx-auto text-center">
        &copy; 2024 Gym10 - All Rights Reserved
      </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script>
      // Load all reviews via AJAX
      $(function () {
        $.get(
          "web_services/review_service.php",
          function (data) {
            if (data.status === "success" && data.reviews.length > 0) {
              let html = "";
              data.reviews.forEach(function (review) {
                let stars = "";
                for (let i = 1; i <= 5; i++) {
                  stars +=
                    i <= review.Rating
                      ? '<span class="text-yellow-400">&#9733;</span>'
                      : '<span class="text-gray-300">&#9733;</span>';
                }
                html += `
              <div class="bg-white rounded-lg p-6 shadow">
                <h3 class="font-semibold text-green-600 mb-2">${review.TrainerName}</h3>
                <div class="mb-2">${stars}</div>
                <p>${review.Comments}</p>
                <p class="text-sm text-gray-500 mt-2">- ${review.ClientName}</p>
              </div>
            `;
              });
              $("#reviews-list").html(html);
            } else {
              $("#reviews-list").html(
                '<p class="col-span-3 text-center">No reviews found.</p>'
              );
            }
          },
          "json"
        );
      });
    </script>
  </body>
</html>
